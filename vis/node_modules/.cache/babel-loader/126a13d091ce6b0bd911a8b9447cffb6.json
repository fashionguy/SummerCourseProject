{"ast":null,"code":"var _jsxFileName = \"/Users/saber/Desktop/vis/src/App.jsx\";\nimport React from \"react\";\nimport * as d3 from \"d3\";\nimport \"./App.css\";\nimport { Col, Row } from \"antd\";\nimport Snapshots from \"./snapshots\";\nimport Graph from \"./graph\";\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      snapshots: [],\n      graph: {},\n      index: 2017\n    }; // this.changeIndex = this.changeIndex.bind(this);\n    // this.inputChange = this.inputChange.bind(this);\n  }\n\n  componentDidMount() {\n    d3.json(\"./tsne_data.json\").then(snapshots => {\n      this.setState({\n        snapshots: snapshots,\n        graph: snapshots[this.state.index].graph\n      });\n    });\n  }\n\n  changeIndex(i) {\n    this.setState({\n      snapshots: this.state.snapshots,\n      graph: this.state.snapshots[i].graph,\n      index: i\n    });\n  }\n\n  increaseIndex() {\n    if (this.state.index < 2017) {\n      this.setState({\n        graph: this.state.snapshots[this.state.index + 1].graph,\n        index: this.state.index + 1\n      });\n    } else {\n      alert(\"找bug呢？你不能下一个了\");\n    }\n  }\n\n  decreaseIndex() {\n    if (this.state.index > 0) {\n      this.setState({\n        graph: this.state.snapshots[this.state.index - 1].graph,\n        index: this.state.index - 1\n      });\n    } else {\n      alert(\"找bug呢？你不能在上一个了\");\n    }\n  }\n\n  inputChange(event) {\n    // this.setState({\n    //     graph: this.state.snapshots[parseInt(event.target.value)].graph,\n    //     index: parseInt(event.target.value)\n    // });\n    console.log(event.target.value);\n  }\n\n  componentWillUnmount() {\n    clearInterval(this.id);\n  }\n\n  render() {\n    const snapshots = this.state.snapshots;\n    const graph = this.state.graph;\n    return React.createElement(\"div\", {\n      className: \"App\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }, \"\\u5DE6\\u8FB9\\u4E3A2018\\u4E2A\\u65F6\\u95F4\\u7A97\\uFF0C\\u53F3\\u8FB9\\u4E3A\\u6240\\u9009\\u65F6\\u95F4\\u7A97\\u5BF9\\u5E94\\u7684\\u8054\\u7CFB\\u56FE\\u3002\"), React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }, \"\\u73B0\\u5728\\u662F\\u7B2C\", this.state.index, \"\\u4E2A\\u65F6\\u95F4\\u7A97\\u3002\"), React.createElement(\"input\", {\n      type: \"button\",\n      value: \"\\u4E0A\\u4E00\\u4E2A\\u65F6\\u95F4\\u7A97\",\n      onClick: () => this.decreaseIndex(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      type: \"button\",\n      value: \"\\u4E0B\\u4E00\\u4E2A\\u65F6\\u95F4\\u7A97\",\n      onClick: () => this.increaseIndex(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }), React.createElement(Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }, React.createElement(Col, {\n      span: 12,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }, React.createElement(Snapshots, {\n      snapshots: snapshots,\n      changeIndex: i => this.changeIndex(i),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    })), React.createElement(Col, {\n      span: 12,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }, React.createElement(Graph, {\n      graph: graph,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }))));\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["/Users/saber/Desktop/vis/src/App.jsx"],"names":["React","d3","Col","Row","Snapshots","Graph","App","Component","constructor","props","state","snapshots","graph","index","componentDidMount","json","then","setState","changeIndex","i","increaseIndex","alert","decreaseIndex","inputChange","event","console","log","target","value","componentWillUnmount","clearInterval","id","render"],"mappings":"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","sourcesContent":["import React from \"react\"\nimport * as d3 from \"d3\"\nimport \"./App.css\"\nimport { Col, Row } from \"antd\"\nimport Snapshots from \"./snapshots\"\nimport Graph from \"./graph\"\n\nclass App extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            snapshots: [],\n            graph: {},\n            index: 2017\n\n        };\n        // this.changeIndex = this.changeIndex.bind(this);\n        // this.inputChange = this.inputChange.bind(this);\n    }\n\n    componentDidMount() {\n        d3.json(\"./tsne_data.json\").then(snapshots => {\n            this.setState({\n                snapshots: snapshots,\n                graph: snapshots[this.state.index].graph\n            })\n        });\n    }\n \n    changeIndex(i){\n        \n        this.setState({\n            snapshots: this.state.snapshots,\n            graph: this.state.snapshots[i].graph,\n            index: i\n        });\n        \n    }\n\n    increaseIndex(){\n        \n        if(this.state.index < 2017){\n            this.setState({\n                graph: this.state.snapshots[this.state.index + 1].graph,\n                index: this.state.index + 1\n            });\n        }else{\n            alert(\"找bug呢？你不能下一个了\")\n        }        \n    }\n\n    decreaseIndex(){\n        if(this.state.index > 0){\n            this.setState({\n                graph: this.state.snapshots[this.state.index - 1].graph,\n                index: this.state.index - 1\n            });\n        }else{\n            alert(\"找bug呢？你不能在上一个了\")\n        }\n        \n        \n    }\n\n    inputChange(event){\n    \n        // this.setState({\n        //     graph: this.state.snapshots[parseInt(event.target.value)].graph,\n        //     index: parseInt(event.target.value)\n        // });\n        console.log(event.target.value)\n    }\n\n    componentWillUnmount() {\n        clearInterval(this.id);\n    }\n \n    \n    render() {\n        const snapshots = this.state.snapshots\n        const graph = this.state.graph\n        return (\n            <div className=\"App\">\n\n                <h2>左边为2018个时间窗，右边为所选时间窗对应的联系图。</h2>\n                <h2>现在是第{this.state.index}个时间窗。</h2>\n                \n                <input type=\"button\" value=\"上一个时间窗\" onClick={ () => this.decreaseIndex()} />\n                <input type=\"button\" value=\"下一个时间窗\" onClick={ () => this.increaseIndex()} />\n\n                <Row>\n                    <Col span={12}>\n                        <Snapshots snapshots={snapshots} changeIndex={ i => this.changeIndex(i) } />\n                    </Col>\n                    <Col span={12}>\n                        <Graph graph={graph} />\n                    </Col>\n                </Row>\n            </div>\n                \n        )\n    }\n    \n}\n\nexport default App"]},"metadata":{},"sourceType":"module"}