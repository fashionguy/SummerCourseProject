{"ast":null,"code":"var _jsxFileName = \"/Users/saber/Desktop/vis/src/snapshots.jsx\";\nimport React, { Component } from \"react\";\nimport * as d3 from \"d3\";\nimport App from './App';\n\nclass Snapshots extends Component {\n  constructor(props) {\n    super(props);\n  }\n\n  componentWillReceiveProps(props) {\n    const snapshots = props.snapshots;\n    const snapshotSVG = d3.select(\"#snapshot\");\n    const padding = 100;\n    const width = snapshotSVG.node().parentNode.clientWidth;\n    snapshotSVG.attr(\"width\", width).attr(\"height\", width);\n    const max = {};\n    const min = {};\n    max.x = d3.max(snapshots, snpst => snpst.vector[0]);\n    max.y = d3.max(snapshots, snpst => snpst.vector[1]);\n    min.x = d3.min(snapshots, snpst => snpst.vector[0]);\n    min.y = d3.min(snapshots, snpst => snpst.vector[1]);\n    const xScale = d3.scaleLinear().domain([min.x, max.x]).range([padding, width - padding]);\n    const yScale = d3.scaleLinear().domain([min.y, max.y]).range([padding, width - padding]);\n    const snapshotLinkData = [];\n\n    for (let i = 0; i < snapshots.length - 1; i++) {\n      snapshotLinkData.push([snapshots[i].vector, snapshots[i + 1].vector]);\n    }\n\n    const snapshotLink = snapshotSVG.selectAll(\"line\").data(snapshotLinkData);\n    snapshotLink.exit().remove();\n    snapshotLink.enter().append(\"line\").attr(\"x1\", d => xScale(d[0][0])).attr(\"x2\", d => xScale(d[1][0])).attr(\"y1\", d => yScale(d[0][1])).attr(\"y2\", d => yScale(d[1][1])).attr(\"stroke\", \"#d9dde2\").attr(\"stroke-width\", 3);\n    const pointsData = snapshots.map(snpst => snpst.vector);\n    const points = snapshotSVG.selectAll(\"circle\").data(pointsData);\n    points.exit().remove();\n    points.enter().append(\"circle\").attr(\"cx\", d => xScale(d[0])).attr(\"cy\", d => yScale(d[1])).attr(\"r\", 5).attr(\"fill\", \"#a7cda9\").attr(\"stroke\", \"#d9dde2\").attr(\"value\", function (d, i) {\n      return i;\n    }).on(\"click\", function (d, i) {\n      props.changeIndex(i);\n    }); // .on(\"mouseover\", (d, i) => {\n    //     console.log(d, i)\n    // })\n  }\n\n  render() {\n    return React.createElement(\"svg\", {\n      id: \"snapshot\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    });\n  }\n\n}\n\nexport default Snapshots;","map":{"version":3,"sources":["/Users/saber/Desktop/vis/src/snapshots.jsx"],"names":["React","Component","d3","App","Snapshots","constructor","props","componentWillReceiveProps","snapshots","snapshotSVG","select","padding","width","node","parentNode","clientWidth","attr","max","min","x","snpst","vector","y","xScale","scaleLinear","domain","range","yScale","snapshotLinkData","i","length","push","snapshotLink","selectAll","data","exit","remove","enter","append","d","pointsData","map","points","on","changeIndex","render"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\"\nimport * as d3 from \"d3\"\nimport App from './App';\n\n\nclass Snapshots extends Component {\n    constructor(props) {\n        super(props)\n    }\n\n\n    componentWillReceiveProps(props) {\n\n        const snapshots = props.snapshots\n        const snapshotSVG = d3.select(\"#snapshot\")\n        const padding = 100\n        const width = snapshotSVG.node().parentNode.clientWidth\n        snapshotSVG.attr(\"width\", width).attr(\"height\", width)\n        const max = {}\n        const min = {}\n        max.x = d3.max(snapshots, snpst => snpst.vector[0])\n        max.y = d3.max(snapshots, snpst => snpst.vector[1])\n        min.x = d3.min(snapshots, snpst => snpst.vector[0])\n        min.y = d3.min(snapshots, snpst => snpst.vector[1])\n        const xScale = d3\n            .scaleLinear()\n            .domain([min.x, max.x])\n            .range([padding, width - padding])\n        const yScale = d3\n            .scaleLinear()\n            .domain([min.y, max.y])\n            .range([padding, width - padding])\n\n        const snapshotLinkData = []\n        for (let i = 0; i < snapshots.length - 1; i++) {\n            snapshotLinkData.push([\n                snapshots[i].vector,\n                snapshots[i + 1].vector\n            ])\n        }\n        const snapshotLink = snapshotSVG\n            .selectAll(\"line\")\n            .data(snapshotLinkData)\n        snapshotLink.exit().remove()\n        snapshotLink\n            .enter()\n            .append(\"line\")\n            .attr(\"x1\", d => xScale(d[0][0]))\n            .attr(\"x2\", d => xScale(d[1][0]))\n            .attr(\"y1\", d => yScale(d[0][1]))\n            .attr(\"y2\", d => yScale(d[1][1]))\n            .attr(\"stroke\", \"#d9dde2\")\n            .attr(\"stroke-width\", 3)\n\n        const pointsData = snapshots.map(snpst => snpst.vector)\n        const points = snapshotSVG.selectAll(\"circle\").data(pointsData)\n        points.exit().remove()\n        points\n            .enter()\n            .append(\"circle\")\n            .attr(\"cx\", d => xScale(d[0]))\n            .attr(\"cy\", d => yScale(d[1]))\n            .attr(\"r\", 5)\n            .attr(\"fill\", \"#a7cda9\")\n            .attr(\"stroke\", \"#d9dde2\")\n            .attr(\"value\", function(d, i){\n                return i;\n            })\n            .on(\"click\", function(d, i){\n                props.changeIndex(i);  \n            })\n            // .on(\"mouseover\", (d, i) => {\n            //     console.log(d, i)\n            // })\n    }\n\n    render() {\n        return <svg id=\"snapshot\" />\n    }\n}\n\nexport default Snapshots"]},"metadata":{},"sourceType":"module"}